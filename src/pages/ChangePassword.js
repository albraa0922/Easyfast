import React, {useState} from 'react'
import "./ChangePassword.css"
import Button from "../Button"
import SideMenu from '../SideMenu'
import NavBar from '../NavBar'
import { useNavigate } from 'react-router-dom'

function ChangePassword() {

    const [passwordVisible, setPasswordVisible] = useState(false);
    const [confirmPasswordVisible, setConfirmPasswordVisible] = useState(false);
    const [error, setError] = useState("")
    const [newpassword, setNewpassword] = useState({
        password: "",
        confirmpassword: ""
    })
    const navigate = useNavigate()
     const handlepassword = (e) => {
        const {name, value} = e.target
        setNewpassword({...newpassword, [name] : value})
        setError("")
     }
    const togglePasswordVisibility = () => {
        setPasswordVisible(!passwordVisible);
    };
    const toggleConfirmPasswordVisibility = () => {
        setConfirmPasswordVisible(!confirmPasswordVisible);
    };
    const handleSubmit = (e) =>{
        e.preventDefault()
        if(newpassword.password.length === 0){
            setError("ادخل كلمة المرور")
        }else if(newpassword.password !== newpassword.confirmpassword){
            setError("كلمة المرور وتأكيد كلمة المرور غير متطابقين")
        }else{
            navigate("/")
        }
    }
  return (
    <div>
        <NavBar/>
        <SideMenu/>
        <div className='changePass'>
            <form onSubmit={handleSubmit}>
                <h3>تغيير كلمة المرور</h3>
                <label>كلمة المرور الجديدة</label>
                <input
                placeholder='ادخل كلمة المرور'
                type={passwordVisible ? 'text' : 'password'}
                name='password'
                value={newpassword.password}
                onChange={handlepassword}
                />
                <span className="password-icon" onClick={togglePasswordVisibility}>
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="20" height="20" fill="white"/>
                        <path d="M14.9019 16.0806C13.4842 16.9795 11.8028 17.5001 9.99993 17.5001C5.50644 17.5001 1.76813 14.267 0.984375 10.0001C1.34828 8.01898 2.34911 6.26071 3.76673 4.94544L1.16106 2.33977L2.33957 1.16125L18.8388 17.6604L17.6603 18.839L14.9019 16.0806ZM4.94601 6.12471C3.83862 7.13342 3.03118 8.47263 2.68533 10.0001C3.44986 13.3767 6.47018 15.8335 9.99993 15.8335C11.3328 15.8335 12.593 15.4831 13.6866 14.8653L11.9963 13.175C11.4183 13.5393 10.7337 13.7501 9.99993 13.7501C7.92883 13.7501 6.24989 12.0711 6.24989 10.0001C6.24989 9.2663 6.46065 8.58171 6.82493 8.00365L4.94601 6.12471ZM10.7613 11.94L8.06006 9.2388C7.96743 9.47463 7.91656 9.73138 7.91656 10.0001C7.91656 11.1507 8.84934 12.0835 9.99993 12.0835C10.2686 12.0835 10.5254 12.0325 10.7613 11.94ZM17.3387 13.827L16.1463 12.6347C16.6929 11.8556 17.0958 10.9655 17.3144 10.0001C16.5499 6.62345 13.5296 4.16676 9.99993 4.16676C9.29501 4.16676 8.61043 4.26474 7.96008 4.44845L6.64506 3.13342C7.68407 2.72462 8.81576 2.5001 9.99993 2.5001C14.4933 2.5001 18.2317 5.73323 19.0154 10.0001C18.7553 11.4165 18.1695 12.719 17.3387 13.827ZM9.76876 6.2571C9.84518 6.25245 9.92226 6.2501 9.99993 6.2501C12.0709 6.2501 13.7499 7.92903 13.7499 10.0001C13.7499 10.0777 13.7475 10.1548 13.7429 10.2312L9.76876 6.2571Z" fill="#073B4C"/>
                    </svg>
                </span>
                <label>تاكيد كلمة المرور</label>
                <input
                placeholder='ادخل كلمة المرور'
                type={confirmPasswordVisible ? 'text' : 'password'}
                name='confirmpassword'
                value={newpassword.confirmpassword}
                onChange={handlepassword}
                />
                <span className="password-icon2" onClick={toggleConfirmPasswordVisibility}>
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="20" height="20" fill="white"/>
                    <path d="M14.9019 16.0806C13.4842 16.9795 11.8028 17.5001 9.99993 17.5001C5.50644 17.5001 1.76813 14.267 0.984375 10.0001C1.34828 8.01898 2.34911 6.26071 3.76673 4.94544L1.16106 2.33977L2.33957 1.16125L18.8388 17.6604L17.6603 18.839L14.9019 16.0806ZM4.94601 6.12471C3.83862 7.13342 3.03118 8.47263 2.68533 10.0001C3.44986 13.3767 6.47018 15.8335 9.99993 15.8335C11.3328 15.8335 12.593 15.4831 13.6866 14.8653L11.9963 13.175C11.4183 13.5393 10.7337 13.7501 9.99993 13.7501C7.92883 13.7501 6.24989 12.0711 6.24989 10.0001C6.24989 9.2663 6.46065 8.58171 6.82493 8.00365L4.94601 6.12471ZM10.7613 11.94L8.06006 9.2388C7.96743 9.47463 7.91656 9.73138 7.91656 10.0001C7.91656 11.1507 8.84934 12.0835 9.99993 12.0835C10.2686 12.0835 10.5254 12.0325 10.7613 11.94ZM17.3387 13.827L16.1463 12.6347C16.6929 11.8556 17.0958 10.9655 17.3144 10.0001C16.5499 6.62345 13.5296 4.16676 9.99993 4.16676C9.29501 4.16676 8.61043 4.26474 7.96008 4.44845L6.64506 3.13342C7.68407 2.72462 8.81576 2.5001 9.99993 2.5001C14.4933 2.5001 18.2317 5.73323 19.0154 10.0001C18.7553 11.4165 18.1695 12.719 17.3387 13.827ZM9.76876 6.2571C9.84518 6.25245 9.92226 6.2501 9.99993 6.2501C12.0709 6.2501 13.7499 7.92903 13.7499 10.0001C13.7499 10.0777 13.7475 10.1548 13.7429 10.2312L9.76876 6.2571Z" fill="#073B4C"/>
                </svg>
                </span>
                {error && <p className="error">{error}</p>}
                <Button className="passBut"><svg width="66" height="20" viewBox="0 0 66 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M5.62631 4.544V11.328C7.05565 9.408 8.84231 8.448 10.9863 8.448C12.2343 8.448 13.269 8.85333 14.0903 9.664C14.837 10.4 15.2103 11.3067 15.2103 12.384V13.968C15.2103 14.1493 15.205 14.2827 15.1943 14.368H15.7383V16H15.4023L14.8743 15.344H14.8263C14.4743 15.7813 14.0263 16 13.4823 16H2.25031L1.45031 15.008V14.368H3.67431V4.544H5.62631ZM9.86631 5.12C10.1543 5.12 10.3996 5.22133 10.6023 5.424C10.805 5.62667 10.9063 5.872 10.9063 6.16C10.9063 6.43733 10.805 6.67733 10.6023 6.88C10.3996 7.08267 10.1543 7.184 9.86631 7.184C9.58898 7.184 9.34898 7.08267 9.14631 6.88C8.94365 6.67733 8.84231 6.43733 8.84231 6.16C8.84231 5.872 8.94365 5.62667 9.14631 5.424C9.34898 5.22133 9.58898 5.12 9.86631 5.12ZM13.2583 12.48C13.2583 11.7227 12.981 11.136 12.4263 10.72C11.957 10.3147 11.3543 10.112 10.6183 10.112C9.82898 10.112 9.06098 10.3573 8.31431 10.848C7.22631 11.584 6.32498 12.7573 5.61031 14.368H12.8583C13.125 14.368 13.2583 14.2347 13.2583 13.968V12.48ZM21.6637 5.12C21.941 5.12 22.181 5.22133 22.3837 5.424C22.5864 5.62667 22.6877 5.872 22.6877 6.16C22.6877 6.43733 22.5864 6.67733 22.3837 6.88C22.181 7.08267 21.941 7.184 21.6637 7.184C21.3757 7.184 21.1304 7.08267 20.9277 6.88C20.725 6.67733 20.6237 6.43733 20.6237 6.16C20.6237 5.872 20.725 5.62667 20.9277 5.424C21.1304 5.22133 21.3757 5.12 21.6637 5.12ZM18.8157 14.368C18.3357 13.728 18.0957 12.9547 18.0957 12.048C18.0957 11.2267 18.3037 10.5173 18.7197 9.92C19.3917 8.93867 20.3624 8.448 21.6317 8.448C22.5917 8.448 23.397 8.74667 24.0477 9.344C24.805 10.0373 25.1837 10.9387 25.1837 12.048C25.1837 12.9227 24.9437 13.696 24.4637 14.368H25.5677V16H23.1677C22.4744 16 21.973 15.9307 21.6637 15.792H21.5837C21.285 15.9307 20.7837 16 20.0797 16H15.6317V14.368H18.8157ZM21.6317 14.352C22.1117 14.2987 22.4957 14.08 22.7837 13.696C23.0824 13.3013 23.2317 12.8 23.2317 12.192C23.2317 11.552 23.0877 11.04 22.7997 10.656C22.5117 10.272 22.1224 10.08 21.6317 10.08C21.1517 10.08 20.7624 10.272 20.4637 10.656C20.1757 11.04 20.0317 11.552 20.0317 12.192C20.0317 12.8 20.1757 13.3013 20.4637 13.696C20.7624 14.08 21.1517 14.2987 21.6317 14.352ZM27.5878 8.912C28.6438 8.60267 29.5665 8.448 30.3558 8.448C31.6465 8.448 32.6865 8.85333 33.4758 9.664C34.1905 10.4 34.5478 11.3173 34.5478 12.416V14.24C34.5478 14.6773 34.3985 15.072 34.0998 15.424C33.7478 15.808 33.3211 16 32.8198 16H25.4598V14.368H32.1958C32.4625 14.368 32.5958 14.2347 32.5958 13.968V12.528C32.5958 11.7813 32.3505 11.1947 31.8598 10.768C31.3798 10.3413 30.7131 10.128 29.8598 10.128C29.3691 10.128 28.6118 10.24 27.5878 10.464V8.912Z" fill="#F3FCFF"/>
                    <path d="M57.1663 1.66663H50.4997C50.0576 1.66663 49.6337 1.84222 49.3212 2.15478C49.0086 2.46734 48.833 2.89127 48.833 3.33329V16.6666C48.833 17.1087 49.0086 17.5326 49.3212 17.8451C49.6337 18.1577 50.0576 18.3333 50.4997 18.3333H60.4997C60.9417 18.3333 61.3656 18.1577 61.6782 17.8451C61.9907 17.5326 62.1663 17.1087 62.1663 16.6666V6.66663L57.1663 1.66663Z" stroke="#E7F3F7" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M57.167 1.66663V6.66663H62.167" stroke="#E7F3F7" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M58.8337 10.8334H52.167" stroke="#E7F3F7" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M58.8337 14.1666H52.167" stroke="#E7F3F7" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M53.8337 7.5H53.0003H52.167" stroke="#E7F3F7" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </Button>
            </form>
        </div>
    </div>
  )
}

export default ChangePassword
